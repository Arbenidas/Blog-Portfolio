<div class="admin-layout-container">
  <div class="noise-overlay"></div>
  
  <!-- ADMIN SIDEBAR -->
  <aside class="admin-sidebar" [class.collapsed]="isSidebarCollapsed">
    <div class="admin-sidebar-header">
      <div class="admin-sidebar-title" *ngIf="!isSidebarCollapsed">
        System_Admin //
      </div>
      <button class="btn-collapse" (click)="toggleSidebar()">
        <span class="material-symbols-outlined">
          {{ isSidebarCollapsed ? 'menu' : 'menu_open' }}
        </span>
      </button>
      <div class="admin-status-dot" *ngIf="!isSidebarCollapsed"></div>
    </div>
    
    <nav class="admin-nav">
      <a routerLink="/admin" routerLinkActive="active-link" [routerLinkActiveOptions]="{exact: true}" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Dashboard' : ''">
        <span class="material-symbols-outlined admin-nav-icon">dashboard</span>
        <span *ngIf="!isSidebarCollapsed">Dashboard</span>
      </a>
      
      <div class="admin-nav-section" *ngIf="!isSidebarCollapsed">
        <span class="admin-nav-section-title">Content Core</span>
      </div>
      
      <a routerLink="/admin/editor" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'New Entry' : ''">
        <span class="material-symbols-outlined admin-nav-icon">add_box</span>
        <span *ngIf="!isSidebarCollapsed">New Entry</span>
      </a>
      <a routerLink="/admin/works" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Works Vault' : ''">
        <span class="material-symbols-outlined admin-nav-icon">folder_open</span>
        <span *ngIf="!isSidebarCollapsed">Works Vault</span>
      </a>
      <a routerLink="/admin/logs" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Logs Archive' : ''">
        <span class="material-symbols-outlined admin-nav-icon">article</span>
        <span *ngIf="!isSidebarCollapsed">Logs Archive</span>
      </a>
      <a routerLink="/admin/guides" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Guides Archive' : ''">
        <span class="material-symbols-outlined admin-nav-icon">library_books</span>
        <span *ngIf="!isSidebarCollapsed">Guides Archive</span>
      </a>
      
      <div class="admin-nav-section" *ngIf="!isSidebarCollapsed">
        <span class="admin-nav-section-title">Interaction</span>
      </div>
      
      <a routerLink="/admin/author-hub" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Author Hub' : ''">
        <span class="material-symbols-outlined admin-nav-icon">hub</span>
        <span *ngIf="!isSidebarCollapsed">Author Hub</span>
      </a>

      <div class="admin-nav-section" *ngIf="!isSidebarCollapsed">
        <span class="admin-nav-section-title">Configuration</span>
      </div>
      
      <a routerLink="/admin/profile" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Personnel File' : ''">
        <span class="material-symbols-outlined admin-nav-icon">badge</span>
        <span *ngIf="!isSidebarCollapsed">Personnel File</span>
      </a>
      <a routerLink="/admin/design-studio" routerLinkActive="active-link" class="admin-nav-link" [title]="isSidebarCollapsed ? 'Design Studio' : ''">
        <span class="material-symbols-outlined admin-nav-icon">extension</span>
        <span *ngIf="!isSidebarCollapsed">Design Studio</span>
      </a>
    </nav>
    
    <div class="admin-sidebar-footer">
      <button (click)="logout()" class="btn-logout" [title]="isSidebarCollapsed ? 'Logout' : ''">
        <span class="material-symbols-outlined" style="font-size: 16px;">logout</span>
        <span *ngIf="!isSidebarCollapsed">Logout</span>
      </button>
      <a class="btn-public-site" routerLink="/" [title]="isSidebarCollapsed ? 'Public Site' : ''">
        <span class="material-symbols-outlined" style="font-size: 14px;">public</span>
        <span *ngIf="!isSidebarCollapsed">Go to Public Site</span>
      </a>
    </div>
  </aside>
  
  <!-- ADMIN MAIN CONTENT -->
  <main class="admin-main-content">
    <!-- Topbar -->
    <header class="admin-topbar">
      <div class="admin-topbar-left">
        <span class="admin-location-label">Location: </span>
        <span class="admin-location-val">/ADMIN/SECURE_Z</span>
      </div>
      <div class="admin-topbar-right">
        <button class="btn-notifications" routerLink="/admin/author-hub" style="position: relative;">
          <span class="material-symbols-outlined" style="font-size: 16px;">notifications</span>
          <div *ngIf="notifications.unreadCount() > 0" 
               style="position: absolute; top: -2px; right: -2px; background: red; color: white; border-radius: 50%; width: 14px; height: 14px; font-size: 9px; display: flex; align-items: center; justify-content: center; font-weight: bold;">
            {{ notifications.unreadCount() }}
          </div>
        </button>
        <div style="display: flex; align-items: center; gap: 0.5rem;">
          <div class="admin-user-avatar">AR</div>
        </div>
      </div>
    </header>
    
    <!-- Render Admin Dashboard or Editor -->
    <div class="admin-router-container">
      <div class="admin-bg-blueprint"></div>
      <router-outlet></router-outlet>
    </div>
  </main>
</div>
